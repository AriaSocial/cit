<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>リンクボタン</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ページ全体のスタイル */
        body {
            font-family: "Inter", sans-serif; /* フォント指定 */
            display: flex; /* Flexboxを使用 */
            justify-content: center; /* 中央寄せ */
            align-items: center; /* 中央寄せ */
            min-height: 100vh; /* 最小の高さをビューポートの高さに設定 */
            background-color: #f0f0f0; /* 背景色 */
            margin: 0; /* デフォルトのマージンを削除 */
        }
        /* メニューの初期状態は非表示 */
        .hidden-menu {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <div class="text-center p-6 bg-white rounded-lg shadow-md border-2 border-[#005882] p-6 rounded-md w-[500px] mx-auto">

        <div id="dateTimeInfo" class="text-3xl font-bold mb-4 text-gray-700 text-center relative"> <span id="todayOfWeek"></span> <span id="currentTime" class="absolute right-0 bottom-0 text-lg font-normal"></span> </div>

        <hr class="mb-6 border-gray-300"> <div class="mb-6 pb-6 border-b border-gray-200 p-4 rounded-md border border-gray-400 flex flex-col items-center"> <div class="relative w-full mb-6"> <h2 class="text-xl font-semibold text-center w-full">英語理解１</h2> <span class="absolute left-0 top-0 text-base font-normal text-gray-600">11:00 - 13:00</span> </div>
            <div class="relative flex justify-center w-full"> <button id="attendanceButton" class="px-6 py-3 bg-[#E2F2F7] text-gray-800 font-semibold rounded-lg shadow-md hover:bg-[#d3e3e8] focus:outline-none focus:ring-2 focus:ring-[#005882] focus:ring-opacity-75 transition duration-300 mb-2"> 出欠登録
                </button>
                <div id="attendanceMenu" class="hidden-menu absolute bottom-0 left-1/2 transform -translate-x-1/2 w-64 bg-white rounded-md shadow-lg z-10 border border-[#005882]"> <a href="https://attendance.is.it-chiba.ac.jp/attendance/class_room/5203" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ａクラス</a>
                    <a href="https://attendance.is.it-chiba.ac.jp/attendance/class_room/5203" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ｂクラス</a>
                    <a href="https://attendance.is.it-chiba.ac.jp/attendance/class_room/5203" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ｃクラス</a>
                    <a href="https://attendance.is.it-chiba.ac.jp/attendance/class_room/5203" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ｄクラス</a>
                    <a href="https://attendance.is.it-chiba.ac.jp/attendance/class_room/5203" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ｅクラス</a>
                    <a href="https://attendance.is.it-chiba.ac.jp/attendance/class_room/5203" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ｆクラス</a>
                    <a href="https://attendance.is.it-chiba.ac.jp/attendance/class_room/5204" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ｇクラス</a>
                </div>
            </div>
        </div>

        <div class="p-4 rounded-md border border-gray-400 flex flex-col items-center"> <div class="relative w-full mb-6"> <h2 class="text-xl font-semibold text-center w-full">数学基礎 高度</h2> <span class="absolute left-0 top-0 text-base font-normal text-gray-600">14:00 - 17:00</span> </div>
            <button id="mathAttendanceButton" class="px-6 py-3 bg-[#E2F2F7] text-gray-800 font-semibold rounded-lg shadow-md hover:bg-[#d3e3e8] focus:outline-none focus:ring-2 focus:ring-[#005882] focus:ring-opacity-75 transition duration-300 mx-auto">
                    出欠登録
                </button>
            </div>
    </div>

    <script>
        // 曜日と時刻を表示する要素を取得
        const todayOfWeekElement = document.getElementById('todayOfWeek'); // 曜日表示要素を取得
        const currentTimeElement = document.getElementById('currentTime'); // 時刻表示要素を取得

        // 曜日と時刻を取得し、表示を更新する関数
        function updateDateTime() {
            const date = new Date();

            // 曜日の取得 (日本語)
            const dayOfWeek = date.getDay(); // 0:日, 1:月, ..., 6:土
            const days = ['日', '月', '火', '水', '木', '金', '土'];
            const today = days[dayOfWeek];
            const formattedDayOfWeek = today + '曜日';

            // 時刻のフォーマット (HH:MM:SS)
            const hours = date.getHours().toString().padStart(2, '0');
            const minutes = date.getMinutes().toString().padStart(2, '0');
            const seconds = date.getSeconds().toString().padStart(2, '0');
            const formattedTime = `${hours}:${minutes}:${seconds}`;

            // 各要素にテキストコンテンツを設定
            todayOfWeekElement.textContent = formattedDayOfWeek; // 曜日と「曜日」の文字を表示
            currentTimeElement.textContent = formattedTime; // 時刻を表示
        }

        // ページ読み込み時に一度表示を更新
        updateDateTime();

        // 1秒ごとに表示を更新 (時刻のリアルタイム表示)
        setInterval(updateDateTime, 1000);

        // 英語理解１の出欠登録ボタン要素とメニュー要素を取得
        const attendanceButton = document.getElementById('attendanceButton');
        const attendanceMenu = document.getElementById('attendanceMenu');

        // 数学基礎 高度の出欠登録ボタン要素を取得
        const mathAttendanceButton = document.getElementById('mathAttendanceButton');

        // 英語理解１の出欠登録ボタンがクリックされた時の処理を設定
        attendanceButton.addEventListener('click', function(event) {
            event.preventDefault(); // デフォルトのリンク遷移を阻止
            // メニューの表示/非表示を切り替え
            attendanceMenu.classList.toggle('hidden-menu');
        });

        // メニュー以外の場所をクリックしたらメニューを非表示にする
        document.addEventListener('click', function(event) {
            if (!attendanceButton.contains(event.target) && !attendanceMenu.contains(event.target)) {
                attendanceMenu.classList.add('hidden-menu');
            }
        });


        // 数学基礎 高度の出欠登録ボタンがクリックされた時の処理を設定
        mathAttendanceButton.addEventListener('click', function() {
            // 遷移先のURLを指定 (数学基礎 高度用)
            const mathAttendanceUrl = 'https://attendance.is.it-chiba.ac.jp/attendance/class_room/7103'; // 数学基礎 高度 出欠登録ページのURL

            // 新しいウィンドウでURLを開く
            window.open(mathAttendanceUrl, '_blank');
        });
    </script>

</body>
</html>
